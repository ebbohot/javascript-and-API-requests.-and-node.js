function changeUrl(e,t){for(var n,o,i,r={},c=decodeURIComponent(location.search.substring(1)),a=/([^&=]+)=([^&]*)/g;n=a.exec(c);)r[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);t?(o="options[start_date]",i=e):(o="options["+e.id+"]",i=hcjq("#"+e.id).val()),r[o]=i,location.search=hcjq.param(r)}function updatePrintUrl(e){var t=hcjq(e).closest(".healcode"),n=hcjq(".print_version",t)[0];if(n){var o,r;if("checkbox"==e.type){for(o="options["+e.name+"]",r=[],elements=hcjq(e).parent().children("[checked]"),i=0;i<elements.length;i++)r.push(elements[i].value);r=r.join(",")}else o="options["+e.name+"]",r=hcjq("#"+e.id,t).val();n.href=updateURLParameter(decodeURI(n.href),o,r)}}function swapDescriptions(e){hcjq("#"+e+"_short").toggle(),hcjq("#"+e+"_full").toggle()}function updateURLParameter(e,t,n){var o="",r=e.split("?"),c=r[0],a=r[1],l="";if(a)for(r=a.split("&"),i=0;i<r.length;i++)r[i].split("=")[0]!=t&&(o+=l+r[i],l="&");var s="";return n&&(s=l+t+"="+n),o.length>0||s.length>0?encodeURI(c+"?"+o+s):encodeURI(c)}var Cart={errorField:function(e){alert(e)}};